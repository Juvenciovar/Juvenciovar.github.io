(this.webpackJsonpblog_management=this.webpackJsonpblog_management||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var n=c(10),a=c.n(n),s=c(43),i=c.n(s),o=(c(51),c(32)),l=c(14),j=(c(52),c(11)),r=(c(53),c(29)),d=c(44),b=c(24),h=Object(d.a)({apiKey:"AIzaSyDza8mNtwxKJxkdPySxHGqslgjyFAVqMLI",authDomain:"blog-manager-f2618.firebaseapp.com",projectId:"blog-manager-f2618",storageBucket:"blog-manager-f2618.appspot.com",messagingSenderId:"946862637293",appId:"1:946862637293:web:70401b099e6efa9143cce4"}),u=Object(r.a)(h),O=Object(b.f)(h),g=c(9);var x=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),o=i[0],d=i[1],b=Object(n.useState)(""),h=Object(j.a)(b,2),O=h[0],x=h[1],m=Object(l.f)();return Object(g.jsx)("div",{className:"loginContainer",children:Object(g.jsxs)("div",{className:"form",children:[Object(g.jsx)("h1",{children:" Login "}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",children:"Wrong password"===O?"":O}),Object(g.jsx)("input",{id:"email",placeholder:"Email...",onChange:function(e){a(e.target.value)}})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"",children:"Wrong password"===O?O:""}),Object(g.jsx)("input",{placeholder:"Password...",type:"password",onChange:function(e){d(e.target.value)}})]}),Object(g.jsx)("button",{onClick:function(){Object(r.b)(u,c,o).then((function(e){e&&(m.push("/Dashboard"),localStorage.setItem("email",c),localStorage.setItem("userState","loggedIn"))})).catch((function(e){"auth/invalid-email"===e.code?(console.log("Invalid email"),x("Invalid email")):"auth/user-not-found"===e.code?(console.log("User not found"),x("User not found")):"auth/wrong-password"===e.code&&(console.log("Wrong password"),x("Wrong password"))}))},children:" Login "})]})})},m=c(40);c(61);var f=function(){var e="empty",t=Object(n.useState)(""),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)([]),o=Object(j.a)(i,2),d=o[0],h=o[1],x=Object(n.useState)(""),f=Object(j.a)(x,2),v=f[0],p=f[1],N=Object(n.useState)(""),S=Object(j.a)(N,2),C=S[0],w=S[1],I=Object(n.useState)(e),k=Object(j.a)(I,2),E=k[0],D=k[1],F=Object(n.useState)(""),y=Object(j.a)(F,2),T=y[0],H=y[1],L=Object(n.useState)(""),W=Object(j.a)(L,2),P=W[0],A=W[1],B=Object(b.b)(O,"articles"),J=Object(l.f)(),q=new Date,z=localStorage.getItem("userState"),K=function(){Object(b.e)(B).then((function(e){h(e.docs.map((function(e){return Object(m.a)(Object(m.a)({},e.data()),{},{id:e.id})})))})).catch((function(e){console.log(e)})),w("show")};return Object(n.useEffect)((function(){E===e&&(D("loading"),K(),D("complete"))})),Object(n.useEffect)((function(){var e=P.replace(/ /g,"-");J.push("/Dashboard/".concat(e))})),"loggedIn"===z?Object(g.jsxs)("div",{className:"DashboardContainer",children:[Object(g.jsxs)("nav",{children:[Object(g.jsxs)("div",{children:["Welcome ",localStorage.getItem("email")]}),Object(g.jsx)("button",{onClick:function(){Object(r.c)(u).then(localStorage.setItem("userState","logout"),J.push("/")).catch((function(e){console.log(e)}))},children:"Log out"})]}),"show"===C?Object(g.jsxs)("section",{children:[Object(g.jsxs)("div",{className:"sectionHeader",children:[Object(g.jsx)("button",{onClick:function(){w("new")},className:"add",children:"Add"}),Object(g.jsx)("input",{placeholder:"Search...",onChange:function(e){p(e.target.value)}})]}),Object(g.jsx)("div",{className:"articles",children:d.map((function(e){return e.title.includes(v)||e.text.includes(v)?Object(g.jsxs)("div",{className:"article",onClick:function(){!function(e){w("edit"),s(e.id),H(e.text),A(e.title)}(e)},children:[Object(g.jsxs)("span",{children:["Edited: ",String(e.date).substring(0,10)]}),Object(g.jsx)("h3",{children:e.title}),Object(g.jsx)("p",{children:e.text})]},e.title):Object(g.jsx)("div",{})}))})]}):"edit"===C?Object(g.jsxs)("section",{children:[Object(g.jsx)("div",{className:"sectionHeader sectionHeaderEdit",children:Object(g.jsx)("button",{onClick:function(){J.push("/Dashboard"),w("show")},children:"X"})}),Object(g.jsxs)("div",{className:"articleEdit",children:[Object(g.jsxs)("div",{className:"title",children:[Object(g.jsx)("div",{className:"left",children:"Title"}),Object(g.jsx)("textarea",{value:P,className:"right",onChange:function(e){A(e.target.value)}})]}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"top",children:"Text"}),Object(g.jsx)("textarea",{value:T,className:"bottom",onChange:function(e){H(e.target.value)}})]})]}),Object(g.jsxs)("div",{className:"sectionFooterEdit",children:[Object(g.jsx)("button",{onClick:function(){var e={title:P};Object(b.g)(Object(b.d)(O,"articles",a),e).then(w("show"),K()).catch((function(e){console.log(e)}))},children:"Edit"}),Object(g.jsx)("button",{onClick:function(){var e=Object(b.d)(O,"articles",a);Object(b.c)(e).then(K()).catch((function(e){console.log(e)}))},children:"Delete"})]})]}):Object(g.jsxs)("section",{children:[Object(g.jsx)("div",{className:"sectionHeader sectionHeaderEdit",children:Object(g.jsx)("button",{onClick:function(){return w("show")},children:"X"})}),Object(g.jsxs)("div",{className:"articleEdit",children:[Object(g.jsxs)("div",{className:"title",children:[Object(g.jsx)("div",{className:"left",children:"Title"}),Object(g.jsx)("textarea",{placeholder:"Title goes here...",className:"right",onChange:function(e){A(e.target.value)}})]}),Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("div",{className:"top",children:"Text"}),Object(g.jsx)("textarea",{placeholder:"Text goes here...",className:"bottom",onChange:function(e){H(e.target.value)}})]})]}),Object(g.jsx)("div",{className:"sectionFooterEdit",children:Object(g.jsx)("button",{onClick:function(){Object(b.a)(B,{title:P,text:T,date:q.toISOString()}).then(K(),w("show")).catch((function(e){console.log(e)}))},children:"Create"})})]})]}):Object(g.jsx)("div",{className:"message404",children:"you must be logged :("})};var v=function(){return Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/Dashboard",children:Object(g.jsx)(f,{})}),Object(g.jsx)(l.a,{path:"/",exact:!0,children:Object(g.jsx)(x,{})})]})})})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),p()}},[[62,1,2]]]);
//# sourceMappingURL=main.4f150ca5.chunk.js.map